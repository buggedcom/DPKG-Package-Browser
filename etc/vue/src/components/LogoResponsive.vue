<template>
<svg class="dpkg-browser-logo" :class="{ hidden }" version="1.1"
     xmlns="http://www.w3.org/2000/svg"
     x="0px" y="0px" width="200px" height="40px" viewBox="0 0 368 60" enable-background="new 0 -1.522 360 60">
    <g id="icon">
        <rect x="322.795" y="20.308" fill="none" width="41.156" height="28.42"/>
        <polygon fill="#FFF100" stroke="#000000" points="322.795,41.373 343.436,41.373 343.436,48.729 363.951,34.517 343.436,20.308
	343.436,27.663 322.795,27.663 "/>
        <rect x="302.216" y="7.098" fill="none" width="41.157" height="28.42"/>
        <polygon fill="#27E4E9" stroke="#000000" points="343.373,14.453 322.732,14.453 322.732,7.098 302.216,21.309 322.732,35.518
	322.732,28.163 343.373,28.163 "/>
    </g>
    <g id="text">
        <path fill="#FFFFFF" d="M20.798,40.382c-1.452,3.319-4.201,5.083-7.832,5.083c-6.431,0-10.736-4.823-10.736-12.084
		c0-7.261,4.409-12.188,10.425-12.188c3.786,0,6.587,1.66,8.143,4.927V5.217h3.164v39.262h-3.164V40.382z M13.277,42.56
		c4.512,0,7.572-3.423,7.572-9.647c0-5.601-2.957-8.869-7.521-8.869s-7.624,3.475-7.624,9.439
		C5.705,39.344,8.454,42.56,13.277,42.56z"/>
        <path fill="#FFFFFF" d="M32.211,22.021h3.008v4.201c1.66-3.164,4.564-5.031,8.039-5.031c6.328,0,10.528,4.823,10.528,12.136
		c0,7.676-4.305,12.136-10.373,12.136c-3.631,0-6.431-1.763-8.195-5.135v15.456h-3.008V22.021z M42.947,24.044
		c-4.616,0-7.676,3.215-7.676,9.076c0,6.068,3.475,9.439,7.987,9.439c4.409,0,7.157-3.268,7.157-9.18
		C50.415,27.571,47.614,24.044,42.947,24.044z"/>
        <path fill="#FFFFFF" d="M60.271,5.217h3.112v26.762l11.203-9.958h4.305L66.858,32.083l12.915,12.396h-4.305L63.384,32.861v11.618h-3.112V5.217z"/>
        <path fill="#FFFFFF" d="M103.789,40.589c0,0.052,0,0.052,0,0.155c0,4.927-0.208,8.298-1.038,10.062c-1.504,3.267-4.719,4.979-9.646,4.979
		c-5.964,0-9.232-2.282-10.01-7.002l3.89,0.104c0.519,2.697,2.697,4.097,6.379,4.097c2.749,0,5.135-1.089,6.224-2.749
		c0.934-1.452,1.037-3.06,1.037-4.979c0-0.467,0-0.985,0-1.556V40.33c-1.296,3.164-4.408,5.135-8.091,5.135
		c-6.068,0-10.373-4.46-10.373-12.136c0-7.313,4.201-12.136,10.528-12.136c3.63,0,6.794,2.178,7.935,5.031v-4.201h3.164V40.589z
		 M85.533,33.38c0,5.913,2.801,9.18,7.209,9.18c4.512,0,7.936-3.371,7.936-9.439c0-5.861-3.008-9.076-7.624-9.076
		C88.385,24.044,85.533,27.571,85.533,33.38z"/>
        <path fill="#FFFFFF" d="M127.028,44.479V5.217h3.112v20.902c1.556-3.268,4.356-4.927,8.143-4.927c6.016,0,10.425,4.927,10.425,12.188
		c0,7.261-4.305,12.084-10.736,12.084c-3.631,0-6.379-1.763-7.832-5.083v4.097H127.028z M137.608,24.044
		c-4.564,0-7.521,3.268-7.521,8.869c0,6.224,3.112,9.647,7.625,9.647c4.823,0,7.52-3.216,7.52-9.076
		C145.232,27.519,142.172,24.044,137.608,24.044z"/>
        <path fill="#FFFFFF" d="M165.462,21.192c0.882,0,1.764,0.155,2.645,0.467l-0.985,2.956c-0.778-0.259-1.504-0.363-2.126-0.363
		c-3.475,0-6.794,3.63-6.794,9.18v11.047h-3.112V22.021h3.112v4.512C160.432,22.8,162.299,21.192,165.462,21.192z"/>
        <path fill="#FFFFFF" d="M169.562,33.276c0-6.743,5.394-12.084,12.084-12.084c6.846,0,12.292,5.342,12.292,12.084
		c0,6.794-5.549,12.188-12.292,12.188C175.059,45.464,169.562,40.123,169.562,33.276z M190.566,33.328
		c0-5.238-3.941-9.232-8.817-9.232c-4.927,0-8.817,3.994-8.817,9.232c0,5.187,3.941,9.232,8.817,9.232
		C186.573,42.56,190.566,38.566,190.566,33.328z"/>
        <path fill="#FFFFFF" d="M196.846,22.021h3.267l5.861,16.182l7.054-17.375l7.054,17.375l5.86-16.182h3.268l-8.973,23.443l-7.157-17.426
		l-7.261,17.426L196.846,22.021z"/>
        <path fill="#FFFFFF" d="M234.399,38.774c1.037,2.542,2.852,3.786,5.549,3.786s4.305-1.504,4.305-3.683c0-3.112-2.748-3.526-6.327-5.031
		c-3.63-1.504-5.394-3.319-5.394-6.172c0-3.786,2.904-6.535,7.261-6.535c3.63,0,6.275,1.607,7.469,4.564l-2.853,1.608
		c-0.727-2.126-2.438-3.268-4.824-3.268c-2.178,0-3.734,1.452-3.734,3.319c0,2.23,1.816,3.112,5.343,4.305
		c4.046,1.349,6.275,2.801,6.275,7.002c0,3.993-3.008,6.794-8.143,6.794c-3.89,0-6.742-1.919-7.884-4.979L234.399,38.774z"/>
        <path fill="#FFFFFF" d="M255.251,33.328c0.104,5.861,3.215,9.335,7.676,9.335c3.371,0,5.756-1.815,7.468-5.394l2.853,1.556
		c-2.281,4.564-5.498,6.639-10.32,6.639c-6.588,0-11.048-4.927-11.048-11.98c0-7.469,4.564-12.292,10.944-12.292
		c6.067,0,10.269,4.356,10.269,11.358c0,0.259,0,0.519,0,0.778H255.251z M262.407,24.2c-3.63,0-6.586,2.542-6.949,6.483h13.951
		C269.149,26.534,266.557,24.2,262.407,24.2z"/>
        <path fill="#FFFFFF" d="M289.95,21.192c0.883,0,1.764,0.155,2.646,0.467l-0.985,2.956c-0.777-0.259-1.504-0.363-2.127-0.363
		c-3.475,0-6.793,3.63-6.793,9.18v11.047h-3.112V22.021h3.112v4.512C284.92,22.8,286.787,21.192,289.95,21.192z"/>
    </g>
</svg>
</template>

<script>
'use strict';

export default {
    data: () => ({
        hidden:false,

        /**
         * @type MediaQueryList
         */
        mediaQuery: null
    }),

    methods: {
        setupBrowserResizeHandling() {
            this.mediaQuery = window.matchMedia('(max-width: 500px)');

            this.mediaQuery.addListener(this.handleBrowserResize);
            this.handleBrowserResize(this.mediaQuery);
        },

        tearDownBrowserResizeHandling() {
            this.mediaQuery.removeEventListener();
        },

        handleBrowserResize(matchQuery) {
            const method = matchQuery.matches === true || matchQuery.matches === true ? 'add' : 'remove';

            let sizeClass = null;
            switch(matchQuery.media) {
                case '(max-width: 500px)' :
                    sizeClass = 'lte-500';
                    break;
            }

            if(sizeClass !== null) {
                this.$el.classList[method](sizeClass);
            }
        }
    },

    mounted() {
        this.setupBrowserResizeHandling();
    },

    beforeDestroy() {
        this.tearDownBrowserResizeHandling();
    }

}
</script>

<style lang="scss">
    .dpkg-browser-logo{
        position: fixed;
        right: 10px;
        top: 5px;
        z-index: 10000000;

        * {
            transition: all .2s ease-out;
        }

        #text {
            opacity: 1;
            transform:scale(1);
            transform-origin: right;
        }

        &.lte-500 {
            #text {
                opacity: 0;
                transform:scale(0.2);
            }
        }

        &.hidden{
            display: none;
        }

    }

</style>